<template name="organizeArchetypes">
    {{#if Template.subscriptionsReady}}
        <table class="table">
            <thead>
            <tr>
                <th>_id</th>
                <th>Name</th>
                <th>format</th>
                <th>Colors</th>
                <th>Type</th>
                <th>Remove</th>
            </tr>
            </thead>
            <tbody>
            {{#each archetypes}}
                <tr>
                    <td>{{_id}}</td>
                    <td>{{name}}</td>
                    <td>{{format}}</td>
                    <td>{{colors}}</td>
                    <td>{{type}}</td>
                    <td><button type="submit" class="btn btn-primary btn-xs js-removeArchetype">Remove</button></td>
                </tr>


                <tr>
                    <ul class="list-inline">
                        {{#each DecksNames}}
                            <li>
                                <div>{{deckName}}</div><div>
                                <button type="submit" class="btn btn-primary btn-xs js-removeNameFromDeck">Remove</button></div>
                            </li>
                        {{/each}}
                    </ul>
                </tr>
            {{/each}}
            </tbody>
        </table>

        <div>
            <table class="table">
                <thead>
                <tr>
                    <th>Name</th>
                    <th>format</th>
                    <th>Colors</th>
                    <th>Change</th>
                </tr>
                </thead>
                <tbody>

                {{#autoForm schema=schema id="createArchetype" type="method" meteormethod="methodCreateArchetype"}}
                    <fieldset>
                        {{> afQuickField name="name"}}
                        {{> afQuickField name="format" options=optionsFormat template="bootstrap3-horizontal"}}
                        {{> afQuickField name="type" options=optionsTypes template="bootstrap3-horizontal"}}

                        <div>
                            <button type="submit" class="btn btn-primary">Submit</button>
                        </div>
                    </fieldset>
                {{/autoForm}}

                {{#each deckWithoutArchetype}}
                    <tr>
                        <td>{{name}}</td>
                        <td>{{format}}</td>
                        <td>{{colors}}</td>
                        <td>
                            {{#autoForm schema=giveArchetypeToDeckWithout id=makeUniqueID type="method" meteormethod="methodAddDeckToArchetype"}}
                                <fieldset>
                                    <div style="float: left; width : 75%">{{> afQuickField name="archetypeName"}}</div>
                                    {{> afQuickField name="deckNameID" type="hidden" value=_id}}
                                    <div style="float: right">
                                        <button type="submit" class="btn btn-primary">Submit</button>
                                    </div>
                                </fieldset>
                            {{/autoForm}}
                        </td>
                    </tr>
                {{/each}}
                </tbody>
            </table>
        </div>
    {{/if}}
</template>